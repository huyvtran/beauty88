<!--
  Generated template for the StoredetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
    
  <ion-navbar>
      <ion-icon *ngIf="closeflag==false" style="color: black;
      margin-left:5px;
      float: left;
      font-size: 1.5em; " (click)="gotoback();" name="close"></ion-icon>
  
  
    <div style="    font-size: 16px;
    text-align: center;
    margin-top: 0.2em;" class="title">
     {{name}}
    </div>
    <img *ngIf="closeflag==false" src="assets/imgs/shareindetail.png" style="
    font-size: 1.8em;
    right: 2%;
    width:22px;
    position: absolute;
    color:gray;
    bottom: 10px;" (click)="gotoshare();" name="share"/>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-slides class="firstslide" pager style="
  margin-top: 20px; max-height:200px">
    <ion-slide style="width:100% !important;" *ngFor="let slide of slides">
        <img style='width: 100%;'  [src]="slide">
    </ion-slide>
  </ion-slides>
    
  <br>
  <div class="desc" style=" padding:16px;">
    <div style="font-size: 15px;"> {{name}} 소개 </div>
    <div style="white-space: pre-wrap; margin-top: 1em; margin-left:1em;
    color: gray;">{{description}}</div>
      
  </div>
  <hr>
    <!-- <img *ngIf="descriptionImage!=undefined" src="{{descriptionImage}}"> -->
    

        <!-- <div  *ngFor="let r of reservation" style="padding-left:0;"  >
        <div>
          <p class="reserve">  {{r.name}} {{r.time}} </p>
          <button class="mybtn" ion-button (click)="join(r)" >Join
          </button></div>
         
          </div> -->

          <div *ngIf="arrayPrice.length!=0" style="padding:16px; font-size: 15px;"> 가격정보  </div>
          <div class="priceIndex">
            <div [ngClass]="i==0?'centeralign_first':'centeralign'" *ngFor="let r of arrayPrice let i = index ">
              <p class="ff">{{r.value}}</p>  <p class="ss">{{number_format(r.price)}}만원</p> <p class="tt">{{r.time}}분 소요</p> <p class="fff" *ngIf="r.event!=''" style="color:red;"> 할인가&nbsp;{{number_format(r.event)}}&nbsp;만원 </p>
            </div>
          </div>
   
          <br>
              <hr style="height:1px">
          <div *ngIf="facility!=undefined" class="desc" style=" padding:16px;">
            <div style="font-size: 15px;"> 편의사항 </div>
            <div style="margin-top: 1em;margin-left:1em;
            color: gray;">{{facility}}</div>
             
          </div>
          <hr style="    height: 1px;">
          <div *ngIf="designarray!=undefined" style="font-size: 15px; padding:16px;"> 애프터뷰 </div>
          <ion-scroll *ngIf="designarray!=undefined"  scrollX="true">
                <img  class="imagedesign" *ngFor="let a of designarray; let i = index"  (click)="gotoalbum(i)" src="{{a}}">
               
           </ion-scroll>
           <br>
              <hr>
          <div *ngIf="designerImage!=undefined" style="font-size: 15px;padding:16px;"> 예약하기</div>
          <ion-scroll style="height:130px !important;" *ngIf="designerImage!=undefined" scrollX="true">
       
            <div class="tttttt">

                <img *ngIf="designerImage!='none'" style="
                "  [ngClass]="(firstimage == true) ? 'imagereservation' : 'selectedimagereservation'"  (click)="clickdesigner2(0,firstimage)" src="{{designerImage}}">
              <span *ngIf="designername!='none'"   class="sspan">{{designername}}</span>
             

            </div>
            <div class="tttttt">
                <img  *ngIf="designerImage1!='none'"  [ngClass]="(secondimage == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(1,secondimage)" src="{{designerImage1}}">
                <span *ngIf="designername1!='none'"  class="sspan">{{designername1}}</span>
  
              
            </div>
            <div class="tttttt">
                <img *ngIf="designerImage2!='none'"  [ngClass]="(thirdimage == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(2,thirdimage)" src="{{designerImage2}}">
                <span *ngIf="designername2!='none'"   class="sspan">{{designername2}}</span>
                
            </div>
            <div class="tttttt">
                <img *ngIf="designerImage3!='none'"  [ngClass]="(fourthimage == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(3,fourthimage)" alt="3" src="{{designerImage3}}">
                <span *ngIf="designername3!='none'"  class="sspan">{{designername3}}</span>
                
            </div>
            <div class="tttttt">
                <img *ngIf="designerImage4!='none'"  [ngClass]="(fifthimage == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(4,fifthimage)" alt="4"  src="{{designerImage4}}">
                <span *ngIf="designername4!='none'"  class="sspan">{{designername4}}</span>
                
            </div>
            <div class="tttttt">
                <img *ngIf="designerImage5!='none'"[ngClass]="(sixthimage == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(5,sixthimage)" alt="5"  src="{{designerImage5}}">
                <span *ngIf="designername5!='none'"   class="sspan">{{designername5}}</span>
               
              </div>
              <div class="tttttt">
                  <img *ngIf="designerImage6!='none'" [ngClass]="(seventhimage == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(6,seventhimage)" alt="6" src="{{designerImage6}}">
                  <span *ngIf="designername6!='none'"   class="sspan">{{designername6}}</span>
                   
              </div>
              <div class="tttttt">
                  <img  *ngIf="designerImage7!='none'" [ngClass]="(image8 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(7,image8)" alt="7" src="{{designerImage7}}">
                  <span *ngIf="designername7!='none'"  class="sspan">{{designername7}}</span>
                
              </div>
              <div class="tttttt">
                  <img  *ngIf="designerImage8!='none'" [ngClass]="(image9 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(8,image9)" alt="8" src="{{designerImage8}}">
                  <span *ngIf="designername8!='none'"   class="sspan">{{designername8}}</span>
                  
              </div>
              <div class="tttttt">
                  <img  *ngIf="designerImage9!='none'" [ngClass]="(image10 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(9,image10)" alt="9" src="{{designerImage9}}">
                  <span *ngIf="designername9!='none'"  class="sspan">{{designername9}}</span>
                 
                </div>
                <div class="tttttt">
                    <img  *ngIf="designerImage10!='none'" [ngClass]="(image11 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(10,image11)"alt="10"  src="{{designerImage10}}">
                    <span *ngIf="designername10!='none'"   class="sspan">{{designername10}}</span>
                      
                </div>
                <div class="tttttt">
                    <img  *ngIf="designerImage11!='none'"[ngClass]="(image12 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(11,image12)" src="{{designerImage11}}">
                    <span *ngIf="designername11!='none'"  class="sspan">{{designername11}}</span>
                    
                </div>
                <div class="tttttt">
                    <img  *ngIf="designerImage12!='none'"[ngClass]="(image13 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(12,image13)" src="{{designerImage12}}">
                    <span *ngIf="designername12!='none'"   class="sspan">{{designername12}}</span>
      
                    <!-- <img  *ngIf="designerImage13!='none'" [ngClass]="(image14 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(13,image14)" src="{{designerImage13}}">
                    <span *ngIf="designername13!='none'"  style=" margin-left: -5.2em;" class="scrollspan">{{designername13}}</span>
                    <img  *ngIf="designerImage14!='none'"[ngClass]="(image15 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(14,image15)" src="{{designerImage14}}">
                    <span *ngIf="designername14!='none'"  style=" margin-left: -5.2em;" class="scrollspan">{{designername14}}</span>
                    <img  *ngIf="designerImage15!='none'" [ngClass]="(image16 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(15,image16)" src="{{designerImage15}}">
                    <span *ngIf="designername15!='none'"  style=" margin-left: -5.2em;" class="scrollspan">{{designername15}}</span>
                    <img  *ngIf="designerImage16!='none'" [ngClass]="(image17 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(16,image17)" src="{{designerImage16}}">
                    <span *ngIf="designername16!='none'"  style=" margin-left: -5.2em;" class="scrollspan">{{designername16}}</span>
                    <img  *ngIf="designerImage17!='none'" [ngClass]="(image18 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(17,image18)" src="{{designerImage17}}">
                    <span *ngIf="designername17!='none'"  style=" margin-left: -5.2em;" class="scrollspan">{{designername17}}</span>
                    <img  *ngIf="designerImage18!='none'" [ngClass]="(image19 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(18,image19)" src="{{designerImage18}}">
                    <span *ngIf="designername18!='none'"  style=" margin-left: -5.2em;" class="scrollspan">{{designername18}}</span>
                    <img  *ngIf="designerImage19!='none'" [ngClass]="(image20 == true) ? 'imagereservation' : 'selectedimagereservation'" (click)="clickdesigner2(19,image20)" src="{{designerImage19}}">
                    <span *ngIf="designername19!='none'"  style=" margin-left: -5.2em;" class="scrollspan">{{designername19}}</span>
                -->
                </div>    

           </ion-scroll>

          <div class='reservationclass' style=" padding-bottom: 0 !important; padding:16px;" >
              &nbsp;{{month}}월
              <br>
            <br>
            <div *ngIf="dayofweek!='false'" class="dateclass">
              <!-- <span  style="left: 22px;
              text-align: center;
              position: relative;">
            
                {{dayofweek.substring(0,1)}}
              </span> -->
              <span
              [ngClass]="(first == true) ? 'bold' : 'normal'"
              (click)="selectDayy(0)"
              style="
border-radius: 20px;
    font-size: 11px;
    left: 0px;
    position: relative;
    padding: 0.5rem;">
                {{today}}
              </span>
            </div>
           <div *ngIf="dayofweek1!='false'" class="dateclass">
            
            <span
            [ngClass]="(second == true) ? 'bold' : 'normal'"
            (click)="selectDayy(1)"
            style="
            border-radius: 20px;
            left: 0px;font-size: 11px;
            position: relative;
            padding: 0.5rem;">
              {{firstdate}}
            </span>

           </div>
           <div *ngIf="dayofweek2!='false'" class="dateclass">
            
            <span
            [ngClass]="(third == true) ? 'bold' : 'normal'"
            (click)="selectDayy(2)"
            style="
            border-radius: 20px;
            left: 0px; font-size: 11px;
            position: relative;
            padding: 0.5rem;">
              {{seconddate}}
            </span>

           </div>
           <div *ngIf="dayofweek3!='false'" class="dateclass">
          
            <span
            [ngClass]="(fourth == true) ? 'bold' : 'normal'"
            (click)="selectDayy(3)"
            style="
            border-radius: 20px;
            font-size: 11px;
            left: 0px;
            position: relative;
            padding: 0.5rem;">
               {{thirddate}}
            </span>

           </div>
           <div *ngIf="dayofweek4!='false'" class="dateclass">
            
            <span
            [ngClass]="(fifth == true) ? 'bold' : 'normal'"
            (click)="selectDayy(4)"
            style="
            border-radius: 20px;
           font-size: 11px;
            left: 0px;
            position: relative;
            padding: 0.5rem;">
             {{fourthdate}}
            </span>

           </div>
           <div *ngIf="dayofweek5!='false'" class="dateclass">
            
            <span
            [ngClass]="(sixth == true) ? 'bold' : 'normal'"
            (click)="selectDayy(5)"
            style="
            border-radius: 20px;
            font-size: 11px;
            left: 0px;
            position: relative;
            padding: 0.5rem;">
              {{fifthdate}}
            </span>

           </div>
           <div *ngIf="dayofweek6!='false'" class="dateclass">
            
            <span
            [ngClass]="(seventh == true) ? 'bold' : 'normal'"
            (click)="selectDayy(6)"
            style="font-size: 11px;
            border-radius: 20px;
            left: 0px;
            position: relative;
            padding: 0.5rem;">
              {{sixthdate}}
            </span>

           </div>
           <div *ngIf="dayofweek7!='false'" class="dateclass">
            
            <span
            [ngClass]="(eighth == true) ? 'bold' : 'normal'"
            (click)="selectDayy(7)"
            style="
            font-size: 11px;
    border-radius: 20px;
    left: 0px;
    position: relative;
    padding: 0.5rem;">
              {{seventhdate}}
            </span>

           </div>
           
         
              <ion-scroll style="" scrollX="true">
                <span *ngFor="let r of reservationfinal">
                    <button  disabled *ngIf="r.disabled==true" class="mybtn" ion-button  >
                      {{r.time}}
                     </button>
                     <button (click)="join(r)"  *ngIf="r.disabled==false" class="mybtn" ion-button  >
                        {{r.time}}
                     </button>
                </span>
        </ion-scroll>
       
   <!-- <p style="    font-size: 13px;">{{name}}</p>   -->
  
          </div>
          <hr>
          <div style="font-size: 15px; padding:16px;"> 연락처 </div>
   
          <div style="    margin-top: 1em;
          margin-left: 2em;
          color: gray;
          width: 35%;
          float: left;">{{tel}}</div>
          <button style="    
          background: aliceblue;
          border-radius:10px;
          margin-top: 1em;
          margin-right:1em;
          width: 50%;

    margin-left: 10px;
          position: relative;
    right: 5%;
          min-height: 25px;" (click)="call(tel)" >
       전화 상담하기
          </button>
                     <hr style="    height: 1px;
                     margin-top: 10px;">
         
                     <div style="font-size: 15px; padding:16px;"> 위치 </div>
           <p style="    font-size: 1.4rem;
           margin-left: 2em;
           margin-top: 1px;
           color: gray; ">{{address}}</p> 
          <div id="mapp" ></div>
     <!-- <p style="    font-size: 13px;">{{name}}</p>   -->
     <div style="font-size: 15px; padding:16px;"> 리뷰  </div>
     <ion-input  style="   
     margin-left: 1em;
     width: 50%;
     float: left;"  placeholder="리뷰를 입력해주세요" [(ngModel)]="reviewtowrite"></ion-input> 
     <button style="    
   background: aliceblue;
   border-radius:10px;
   margin-top: 1em;
   position: relative;
    right: 5%;
   width: 42%;
   min-height: 25px;" (click)="enterreview()" >
리뷰 등록
   </button>
   <ion-list   style=" padding:16px; height: 200px;" *ngIf="reviewarray.length!=0" >
   
    <div [ngClass]="!reviewmoreflag&&i<4 ? 'testing' : 'noshow'"  *ngFor="let review of reviewarray let i = index"    style="padding-left:0;"  >
          

        <span *ngIf="i<4" style=" margin-top: 5px;
        position: absolute; "> {{review.nickname}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{review.contents}} </span>
                
               
   
               
     
        </div>
        <div [ngClass]="!reviewmoreflag ? 'noshow' : 'testing'"  *ngFor="let review of reviewarray let i = index"    style="padding-left:0;"  >
          

          <div class="subtest">
            <span  style=" margin-top: 5px;
            position: absolute; "> {{review.nickname}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{review.contents}}</span>
          </div>
                    
                   
       
                   
         
            </div>
        <button ion-button (click)="reviewmore()" *ngIf="!reviewmoreflag" style="     background: aliceblue;
        border-radius: 10px;
        margin-top: 1em;
        /* margin-right: 1em; */
        width: 50%;
        color: black;
        min-height: 25px;
        width: 80%;
        /* margin: auto; */
        margin-left: 2em;
        margin-right: 2em;"> 더 보기 </button>
    
</ion-list>
     <ion-list  style="padding:16px;" *ngIf="reviewarray.length==0" >
      <ion-item  style="padding-left:0;"  >
                 
                  리뷰가 없습니다. 리뷰를 남겨주세요
                 
      </ion-item>
      
         <br>
       
             <br>
     
      
</ion-list>
          
                           
    


</ion-content>
